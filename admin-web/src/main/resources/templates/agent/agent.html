<!DOCTYPE html>
<!--[if IE 8]> <html lang="en" class="ie8 no-js"  xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org"  xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity4"> <![endif]-->
<!--[if IE 9]> <html lang="en" class="ie9 no-js"  xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org"  xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity4"> <![endif]-->
<!--[if !IE]><!-->
<html lang="en" xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org"  xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity4">
	<head>
		<!--/*/ <th:block th:include="fragments/headerinc :: head"></th:block> /*/-->
		<title>代理区域管理</title> 	  
	</head>
	<body class="page-sidebar-closed-hide-logo page-content-white page-header-fixed  page-footer-fixed page-sidebar-fixed">
	<!--/*/ <th:block th:include="fragments/headerinc :: top"></th:block> /*/-->
	<div class="clearfix"></div>
	<div class="page-container">
		<!--/*/ <th:block th:include="fragments/headerinc :: menu"></th:block> /*/-->
		<div class="page-content-wrapper">
		<div class="page-content">
		<!--/*/ <th:block th:include="fragments/headerinc :: bar"></th:block> /*/-->
		<div class="row">
			<div class="portlet light bordered" >
				<div class="portlet-title">
					<div class="caption font-red-sunglo">
						<i class="icon-user"></i> 
						<span class="caption-subject font-green bold uppercase">代理区域管理</span>
					</div>
					<div class="actions">
						<div class="dt-buttons">
							<a class="dt-button btn blue btn-outline" onclick="Agent.add();"> 
							 	<span>添加</span>
							</a>
						</div>
					</div>
				</div>
				<div class="portlet-body">
					<div class="row table-search"> 
						<form action="" role="form" class="form-inline" id="search_form" autocomplete="off" data-role="search">
		                     <button type="button" class="btn btn-sm green" id="search" >搜索<i class="fa fa-search"></i></button>  
						</form>
					</div>
					<table class="table table-striped table-bordered table-hover dt-responsive overflow" width="100%" id="table"
						th:attr="data-url=@{/agent/query}" 
						data-unique-id="dmId" 
						data-side-pagination="server"
						data-pagination="true"
						data-height="600"
						data-toolbar="#search_form">
						<thead>
							<tr>
								<th data-field="name">代理商</th>
								<th data-field="company">企业名称</th>
								<th data-field="level">代理级别</th>
								<th data-field="card">身份证</th>
								<th data-field="brankName">银行名称</th>
								<th data-field="brankAccount">银行卡号</th>
								<th data-field="accountType">账户类型</th>
								<th data-field="contactPhone">联系电话</th>
								<th data-field="regionalAgent" >代理区域</th>
								<th data-field="agencyTime" data-formatter="$transformation.toTime">代理时间</th>
								<th data-field="account">代理商状态</th>
								<th data-field="dmId" data-formatter="a">操作</th>
							</tr>
						</thead>						
					</table>
				</div>
			</div>
		</div>
		</div>
		</div>
		</div>
		<div id="payJoiningFeeAgentModel" class="modal fade" tabindex="-1" aria-hidden="true" data-role="modal">
			<div class="modal-dialog">
				<div class="modal-content">
					<div class="modal-header">
						<button type="button" class="close" data-dismiss="modal" aria-hidden="true"></button>
						<h4 class="modal-title">诚意金</h4>
					</div>
					<div class="modal-body">
						<form th:action="@{/finance/payJoiningFee/save}" class="form-horizontal" autocomplete="off"  novalidate="novalidate" id="payJoiningFeeAgentForm" role="form" method="post" data-role="form">
							<input type="hidden"  id="dmId" name="dmId"/>
							<input type="hidden"  id="userType" name="userType"/>
							<input type="hidden"  id="flag" name="flag" value="update"/>
							<input type="hidden"  id="payJoiningFeeType" name="payJoiningFeeType" value="agent"/>
							<div class="form-body">
								<div class="form-group">
									<label class="col-md-3 control-label" for="repassword">诚意金</label>
									<div class="col-md-9">
									<div class="input-group bootstrap-touchspin">
											<input type="text" id="earnestMoney" name="earnestMoney" class="form-control double required" maxlength="20" placeholder="请输入诚意金" value="0" />
										</div>
									</div>
								</div>
								<div class="form-group">
									<label class="control-label col-md-3" for="nickName">收益扣费总金额</label>
									<div class="col-md-9">
										<div class="input-group bootstrap-touchspin">
											<input type="text" id="returnFee" name="returnFee"  value="0"  readonly="readonly"/>
										</div>				
									</div>
								</div>
							</div>
						</form>
					</div>
					<div class="modal-footer">
	                     <button type="button" data-dismiss="modal" class="btn dark btn-outline">关闭</button>
	                     <button type="button" class="btn green"   data-role="save">保存</button>
	                 </div>
				</div>
			</div>
		</div>
		<div id="AgentModel" class="modal fade" tabindex="-1" aria-hidden="true" data-role="modal">
			<div class="modal-dialog">
				<div class="modal-content">
					<div class="modal-header">
						<button type="button" class="close" data-dismiss="modal" aria-hidden="true"></button>
						<h4 class="modal-title">添加代理区域</h4>
					</div>
					<div class="modal-body">
						<form th:action="@{/finance/payJoiningFee/save}" class="form-horizontal" autocomplete="off"  novalidate="novalidate" id="agentForm" role="form" method="post" data-role="form">
							<div class="form-body">
								<div class="form-group">
									<label class="col-md-3 control-label" for="repassword">代理商名称</label>
									<div class="col-md-9">
									<div class="input-icon">
		                                    <i class="fa fa-user"></i>
											<input type="text" id="name" name="name" class="form-control"  maxlength="20" placeholder="请输入代理商名称" value=""/>
										</div>
									</div>
								</div>
								<div class="form-group">
									<label class="control-label col-md-3" for="nickName">代理商级别</label>
									<div class="col-md-9">
										 <select class="form-control select2" name="key" id="key"  data-down="agentLevel_key"> 	
										 </select>	
									</div>
								</div>
								<div class="form-group">
									<label class="control-label col-md-3" for="nickName">代理区域</label>
									<div class="col-md-9">
										 <select class="form-control select2" name="key" id="key"  data-down=""> 	
										 </select>	
										 <select class="form-control select2" name="key" id="key"  data-down=""> 	
										 </select>	
										 <select class="form-control select2" name="key" id="key"  data-down=""> 	
										 </select>	
									</div>
								</div>
								<div class="form-group">
									<label class="control-label col-md-3" for="nickName">身份证</label>
									<div class="col-md-9">
										<div class="input-icon">
		                                    <i class="fa fa-user"></i>
											<input type="text" id="name" name="name" class="form-control"  maxlength="20" placeholder="身份证号码" value=""/>
										</div>				
									</div>
								</div>
								<div class="form-group">
									<label class="control-label col-md-3" for="nickName">联系电话</label>
									<div class="col-md-9">
										<div class="input-icon">
		                                    <i class="fa fa-user"></i>
											<input type="text" id="name" name="name" class="form-control"  maxlength="20" placeholder="联系电话" value=""/>
										</div>				
									</div>
								</div>
								<div class="form-group">
									<label class="control-label col-md-3" for="nickName">账户类型</label>
									<div class="col-md-9">
											 <select class="form-control select2" name="key" id="key"  data-down="agentAccountType_key"> 	
										 </select>				
									</div>
								</div>
								<div class="form-group">
									<label class="control-label col-md-3" for="nickName">企业名称</label>
									<div class="col-md-9">
										<div class="input-icon">
		                                    <i class="fa fa-user"></i>
											<input type="text" id="name" name="name" class="form-control"  maxlength="20" placeholder="企业名称" value=""/>
										</div>				
									</div>
								</div>
								<div class="form-group">
									<label class="control-label col-md-3" for="nickName">银行账户</label>
									<div class="col-md-9">
										<div class="input-icon">
		                                    <i class="fa fa-user"></i>
											<input type="text" id="name" name="name" class="form-control"  maxlength="20" placeholder="银行账户" value=""/>
										</div>				
									</div>
								</div>
								<div class="form-group">
									<label class="control-label col-md-3" for="nickName">银行名称</label>
									<div class="col-md-9">
										<div class="input-icon">
		                                    <i class="fa fa-user"></i>
											<input type="text" id="name" name="name" class="form-control"  maxlength="20" placeholder="银行名称" value=""/>
										</div>				
									</div>
								</div>
								<div class="form-group">
									<label class="control-label col-md-3" for="nickName">代理商状态</label>
									<div class="col-md-9">
										<select class="form-control select2" name="key" id="key"  data-down="agentStatus_key"> 	
										 </select>				
									</div>
								</div>
								
								
								
								
							</div>
						</form>
					</div>
					<div class="modal-footer">
	                     <button type="button" data-dismiss="modal" class="btn dark btn-outline">关闭</button>
	                     <button type="button" class="btn green"   data-role="save">保存</button>
	                 </div>
				</div>
			</div>
		</div>
		<!--/*/ <th:block th:include="fragments/headerinc :: footer"></th:block> /*/-->
    	<!--/*/ <th:block th:include="fragments/headerinc :: script"></th:block> /*/-->
    	
	    <script type="text/javascript" th:src="@{/assets/custom/agent/agent.js}"></script> 
	    <script type="text/javascript" th:inline="javascript">
		   $(function(){
		 	   // Agent.init();
		   })
		   //页面 colums
		   function colums(){
			   return [
						{title:'代理商',bSortable:false,data:'name',render:function(row,type,set){
							 return isEmpty(row)?'':row; 
						}},
						{title:'企业名称',bSortable:false,data:'company',render:function(row,type,set){
							 return isEmpty(row)?'':row; 
						}},
						{title:'代理级别',bSortable:false,data:'level',render:function(row,type,set){
							 return Select2.getText('agentLevel_key',row);
						}},
						{title:'身份证',bSortable:false,data:'card',render:function(row,type,set){
							 return isEmpty(row)?'':row; 
						}},
					    {title:'银行名称',bSortable:false,data:'brankName',width:90,render:function(row,type,set){
					    	 return isEmpty(row)?'':row; ;
					    }},
					    {title:'银行卡号',bSortable:false,data:'brankAccount',width:90,render:function(row,type,set){
					    	 return isEmpty(row)?'':row; ;
					    }},
					    {title:'账户类型',bSortable:false,data:'accountType',render:function(row,type,set){	 
					    	 return Select2.getText('agentAccountType_key',row);
						}},
					    {title:'联系电话',bSortable:false,data:'contactPhone',width:90,render:function(row,type,set){
					    	 return isEmpty(row)?'':row; ;
					    }},
						{title:'代理区域',bSortable:false,data:'regionalAgent',render:function(row,type,set){
							 return isEmpty(row)?'':row; 
						}},
						{title:'代理时间',bSortable:false,data:'agencyTime',render:function(row,type,set){
							return isEmpty(row)?'':row; 
						}},
						{title:'账号',bSortable:false,data:'account',render:function(row,type,set){
							 return isEmpty(row)?'':row; 
						}},
						{title:'代理商状态',bSortable:false,data:'status',render:function(row,type,set){	 
							 return Select2.getText('agentStatus_key',row);
						}},
						{title:'操作',bSortable:false,data:'dmId',width:200,render:function(row,type,set){
							var btn='<a class="btn btn-xs grey-cascade" onclick="Agent.setPayJoiningFee('+set.dmId+');">诚意金</a>';
							return  btn;
						}}
		               ];
		  	 }
	   </script>
	</body>
</html>